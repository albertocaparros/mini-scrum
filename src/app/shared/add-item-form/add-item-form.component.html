<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-card>
    <mat-card-header>
      <h3>New item</h3>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field appearance="outline">
        <mat-label>Title</mat-label>
        <input matInput type="text" id="title" formControlName="title" required />
        @if (form.get('title')?.touched && form.get('title')?.invalid) {
          <mat-error> Title is required </mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>As a</mat-label>
        <input matInput type="text" id="as" formControlName="as" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>I want</mat-label>
        <input matInput type="text" id="want" formControlName="want" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>So that</mat-label>
        <input matInput type="text" id="so" formControlName="so" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Requirements</mat-label>
        <textarea matInput id="requirements" formControlName="requirements"></textarea>
        <mat-hint>Separate requirements with commas (e.g., "Req 1, Req 2")</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Priority</mat-label>
        <input matInput type="number" id="priority" formControlName="priority" min="1" max="10" />
        @if (form.get('priority')?.touched && form.get('priority')?.invalid) {
          <mat-error> Priority must be between 1 and 10 </mat-error>
        }
      </mat-form-field>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button type="submit" [disabled]="form.invalid">Add Item</button>
    </mat-card-actions>
  </mat-card>
</form>
